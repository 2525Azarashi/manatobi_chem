import { ReactionProblem } from './types';

export const PROBLEMS: ReactionProblem[] = [
  {
    id: "chapter1",
    title: "第1章：物質の探究と原子の構造",
    description: "物質の構成要素、分離法、原子の構造に関する基礎知識を確認します。",
    equations: [],
    questions: [
      {
        id: "q1",
        label: "問1（知識・推論）",
        type: "knowledge",
        text: "混合物の分離と成分元素の確認に関する次の問いに答えよ。\n(1) 次の記述(a)・(b)に該当する分離操作の名称を答えよ。\n (a) 液体空気から窒素や酸素を分離するために、沸点の違いを利用して加熱・冷却を行った。\n (b) 砂の混じった粗塩から純粋な塩化ナトリウムを得るために、水に溶かした後にろ過し、そのろ液を加熱して水を蒸発させた。\n(2) 試料溶液に硝酸銀水溶液を加えたところ、白色沈殿が生じた。この結果から、試料溶液に含まれていたことが確認できる元素の名称と、その確認方法の名称を答えよ。",
        inputType: "text"
      },
      {
        id: "q2",
        label: "問2（原理・計算）",
        type: "principle",
        text: "原子の構造と周期表に関する次の問いに答えよ。\n(1) 原子番号17、質量数37の塩素原子に含まれる陽子の数と中性子の数をそれぞれ答えよ。\n(2) K殻、L殻、M殻に収容できる電子の最大数をそれぞれ答えよ。\n(3) 第3周期に属し、価電子を2個持つ原子の元素記号を答えよ。",
        inputType: "text"
      },
      {
        id: "q3_1",
        label: "問3(1)（技能）",
        type: "skill",
        text: "アルミニウムイオン $\\text{Al}^{3+}$ と酸化物イオン $\\text{O}^{2-}$ からなる化合物の組成式を答えよ。",
        inputType: "text"
      },
      {
        id: "q3_2",
        label: "問3(2)（知識）",
        type: "knowledge",
        text: "次の(ア)〜(エ)のうち、単体であり、かつ常温・常圧で液体であるものをすべて選べ。",
        inputType: "selection-multi",
        options: ["(ア) 水銀", "(イ) 臭素", "(ウ) ヨウ素", "(エ) エタノール"]
      }
    ],
    answers: {
      q1: "(1)(a) 分留（分別蒸留） (b) 蒸発乾固\n(2) 元素名：塩素、確認方法：沈殿反応",
      q2: "(1) 陽子：17、中性子：20\n(2) K：2、L：8、M：18\n(3) Mg",
      q3_1: "$\\text{Al}_2\\text{O}_3$",
      q3_2: "(ア), (イ)"
    },
    explanationPoints: [
      "問1：液体空気や石油など、液体の混合物を沸点の差で分けるのは「分留」。",
      "問2：中性子数 = 質量数 - 原子番号。$37 - 17 = 20$。",
      "問3(2)：常温常圧で液体の単体は、臭素 $\\text{Br}_2$（非金属）と水銀 $\\text{Hg}$（金属）の2つのみ（重要暗記）。エタノールは液体だが化合物。"
    ],
    branches: [
      {
        id: "branch_1",
        title: "Branch_1: 物理的性質による分離",
        label: "分離操作の名称が曖昧",
        diagnosis: "液体空気の分離（分留）など、具体的な操作名が即座に出てこなかった。",
        remediation: {
          type: "knowledge",
          content: "分離操作は「原理」とセットで覚えましょう。",
          points: [
            "分留：沸点の差（液体混合物）。例：液体空気、石油。",
            "蒸留：沸点の差（溶液から溶媒、または液体混合物）。",
            "再結晶：溶解度の温度変化。",
            "昇華法：昇華性の利用（ヨウ素、ナフタレン）。"
          ]
        }
      },
      {
        id: "branch_2",
        title: "Branch_2: 原子の構造",
        label: "中性子数・電子殻の計算ミス",
        diagnosis: "中性子数の計算や、電子殻の最大収容数（$2n^2$）で迷いが生じた。",
        remediation: {
          type: "exercise",
          content: "基本公式を確認しましょう。\n最大収容電子数 $= 2n^2$ ($n$は殻の番号。K=1, L=2...)",
          points: [
            "原子番号13のアルミニウム原子 $\\text{Al}$ について、L殻に含まれる電子の数と、最外殻電子の数をそれぞれ答えよ。",
            "答え：L殻 8個 ($2\\times2^2$)、最外殻 3個 (M殻)"
          ]
        }
      }
    ]
  },
  {
    id: "chapter2",
    title: "第2章：周期律と同位体",
    description: "同素体、同位体、周期表の性質についての理解を深めます。",
    equations: [],
    questions: [
      {
        id: "q1",
        label: "問1（知識）",
        type: "knowledge",
        text: "同素体と成分元素の確認に関する次の問いに答えよ。\n(1) 酸素の同素体であるオゾンの分子式を答えよ。また、黄リンを空気中で自然発火させると生じる物質の名称を答えよ。\n(2) 炭素の同素体のうち、導電性を持つものを1つ答えよ。\n(3) 炎色反応が赤紫色を示す元素の名称を答えよ。",
        inputType: "text"
      },
      {
        id: "q2",
        label: "問2（原理）",
        type: "principle",
        text: "同位体に関する次の問いに答えよ。\n(1) 水素の同位体において、互いに「等しいもの」と「異なるもの」を、次の(ア)〜(エ)からそれぞれすべて選べ（回答欄には「等しい：(記号)、異なる：(記号)」の形式で記述せよ）。\n  (ア) 陽子の数 (イ) 中性子の数 (ウ) 電子の数 (エ) 化学的性質\n(2) 炭素の同位体 $^{12}\\text{C}$ と $^{13}\\text{C}$ について、$^{13}\\text{C}$ の原子核に含まれる中性子の数を答えよ。",
        inputType: "text"
      },
      {
        id: "q3_1",
        label: "問3(1)(2)（知識）",
        type: "knowledge",
        text: "(1) 周期表において、1族（水素を除く）、2族、17族、18族の元素をそれぞれ何と呼ぶか。\n(2) 第3周期の元素について、原子番号が大きくなるにつれて、原子半径は一般にどのように変化するか。",
        inputType: "text"
      },
      {
        id: "q3_3",
        label: "問3(3)（判断）",
        type: "judgment",
        text: "貴ガスと同じ電子配置を持つ「二価の陽イオン」になるものを元素記号で選べ。",
        inputType: "selection-single",
        options: ["(ア) Li", "(イ) O", "(ウ) Mg", "(エ) Cl"]
      }
    ],
    answers: {
      q1: "(1) $\\text{O}_3$、十酸化四リン\n(2) 黒鉛（グラファイト）\n(3) カリウム",
      q2: "(1) 等しい：(ア)(ウ)(エ)、異なる：(イ)\n(2) 7",
      q3_1: "(1) アルカリ金属、アルカリ土類金属、ハロゲン、貴ガス\n(2) 小さくなる",
      q3_3: "(ウ)"
    },
    explanationPoints: [
      "問2：同位体は陽子数（原子番号）が同じで中性子数が異なる。電子配置が同じなので化学的性質はほぼ同じ。",
      "問3(2)：同周期では、原子番号が増す（右に行く）ほど原子核の正電荷が増し、電子を強く引きつけるため、原子半径は小さくなる。",
      "問3(3)：$\\text{Mg}$ (原子番号12) は電子を2個失うと $\\text{Mg}^{2+}$ となり、$\\text{Ne}$ (原子番号10) と同じ電子配置になる。$\\text{O}$ は陰イオンになりやすい。"
    ],
    branches: [
      {
        id: "branch_1",
        title: "Branch_1: 同素体と炎色反応",
        label: "同素体の性質・炎色反応の暗記不足",
        diagnosis: "炎色反応の色や、同素体の具体的な性質（導電性など）が曖昧だった。",
        remediation: {
          type: "knowledge",
          content: "語呂合わせで定着させましょう。",
          points: [
            "炎色反応：リアカー(Li赤)なき(Na黄)K村(K赤紫/紫)動力(Cu緑)借ると(Ca橙)するもくれない(Sr紅)馬力(Ba黄緑)。",
            "同素体(SCOP)：S(斜方・単斜・ゴム状), C(ダイヤ・黒鉛・フラーレン), O(酸素・オゾン), P(黄リン・赤リン)。",
            "黄リンは自然発火するため「水中」保存。"
          ]
        }
      },
      {
        id: "branch_2",
        title: "Branch_2: 周期律の原理",
        label: "原子半径の変化理由が説明できない",
        diagnosis: "原子番号が増えるのに原子が小さくなる理由が論理的に説明できなかった。",
        remediation: {
          type: "exercise",
          content: "原子核の「引きつける力」に着目してください。",
          points: [
            "陽子が増える $\\to$ プラスの電荷が増える $\\to$ 電子殻をより強く中心に引き寄せる $\\to$ 半径が小さくなる。",
            "演習：第3周期で最も「陽イオンになりやすい（イオン化エネルギーが小さい）」元素は？",
            "答え：$\\text{Na}$ （左側の元素ほど電子を放出しやすい）"
          ]
        }
      }
    ]
  },
  {
    id: "chapter3",
    title: "第3章：物質の状態変化とエネルギー",
    description: "状態変化、熱運動、蒸気圧、分離精製の計算問題を扱います。",
    equations: [],
    questions: [
      {
        id: "q1",
        label: "問1（原理・推論）",
        type: "principle",
        text: "物質の状態変化と熱運動について、加熱曲線（図省略：平坦部が2箇所ある一般的なもの）を想定して答えよ。\n(1) 融解中（領域II）および沸騰中（領域IV）における物質の状態をそれぞれ答えよ。\n(2) 領域IIにおいて、加熱し続けているにもかかわらず温度が一定に保たれる理由を、「熱運動」と「エネルギー」という言葉を用いて簡潔に説明せよ。\n(3) 物質Aよりも粒子間の引力が強い別の物質Bについて、同じ条件で加熱曲線を作成したとき、物質Aと比較して融点および沸点はどのように変化するか。",
        inputType: "text"
      },
      {
        id: "q2",
        label: "問2（計算）",
        type: "skill",
        text: "塩化ナトリウムとヨウ素の混合物 $10.0\\,\\text{g}$ がある。加熱してヨウ素をすべて昇華させた後、残った固体を精製したところ、$8.5\\,\\text{g}$ の塩化ナトリウムが得られた。\n(1) ヨウ素を分離するために利用した操作の名称を答えよ。\n(2) この混合物に含まれていたヨウ素の含有率（質量パーセント）を求めよ。",
        inputType: "text"
      }
    ],
    answers: {
      q1: "(1) 領域II：固液共存（固体と液体）、領域IV：液気共存（液体と気体）\n(2) 加えられた熱エネルギーが、粒子の熱運動を激しくして温度を上げるためではなく、粒子間の引力を断ち切って状態を変化させるために使われるから。\n(3) 高くなる",
      q2: "(1) 昇華\n(2) 15%"
    },
    explanationPoints: [
      "問1(2)：状態変化の間、温度（＝粒子の熱運動の激しさ）は変わらず、エネルギーは結合を切る（距離を離す）ために消費される（潜熱）。",
      "問1(3)：引力が強いほど、それを切るのにより高い温度（激しい熱運動）が必要になるため、融点・沸点は高くなる。",
      "問2(2)：ヨウ素の質量 = $10.0 - 8.5 = 1.5\\,\\text{g}$。含有率 = $(1.5 / 10.0) \\times 100 = 15\\%$。"
    ],
    branches: [
      {
        id: "branch_1",
        title: "Branch_1: 加熱曲線の解釈",
        label: "温度一定の理由が言語化できない",
        diagnosis: "グラフの平坦部が「2つの状態が混ざっている」イメージ、あるいはエネルギーの使われ方を説明できなかった。",
        remediation: {
          type: "knowledge",
          content: "微視的モデルで考えましょう。",
          points: [
            "温度上昇＝粒子がブルブル震えるのが激しくなる。",
            "状態変化＝粒子が手をつないでいるのを振りほどく。",
            "振りほどいている間は、震えの激しさ（温度）は変わらない。"
          ]
        }
      },
      {
        id: "branch_2",
        title: "Branch_2: 物質の性質と融点",
        label: "引力と融点の関係の理解",
        diagnosis: "引力が強いとなぜ融点が高くなるか直感的に理解できていない。",
        remediation: {
          type: "exercise",
          content: "逆の例で考えましょう。",
          points: [
            "分子間に働く引力が非常に弱い「貴ガス（He, Neなど）」の融点・沸点は、高いか低いか？",
            "答え：極めて低い（Heの沸点は全物質で最も低い）。引力が弱いから、少しの熱ですぐバラバラ（気体）になる。"
          ]
        }
      }
    ]
  },
  {
    id: "chapter4",
    title: "第4章：極性・結晶・高度な網羅",
    description: "分子の極性、結晶の種類、物質の分類についての発展的な内容を含みます。",
    equations: [],
    questions: [
      {
        id: "q1_1",
        label: "問1(1)（判断）",
        type: "judgment",
        text: "次の分子のうち、分子全体として「無極性分子」であるものをすべて選べ。",
        inputType: "selection-multi",
        options: ["(ア) H₂O", "(イ) CO₂", "(ウ) NH₃", "(エ) CH₄"]
      },
      {
        id: "q1_2",
        label: "問1(2)（知識）",
        type: "knowledge",
        text: "二酸化ケイ素（石英）の結晶の種類を答えよ。また、その結晶の融点が分子結晶に比べて極めて高い理由を簡潔に答えよ。",
        inputType: "text"
      },
      {
        id: "q2",
        label: "問2（知識）",
        type: "knowledge",
        text: "放射性同位体と周期表に関する問い。\n(1) 炭素の放射性同位体 $^{14}\\text{C}$ が $\\beta$ 崩壊すると、原子番号が1つ大きい別の原子に変わる。生成する原子の元素記号を答えよ。\n(2) 周期表の3族〜11族に位置する元素の総称を答えよ。",
        inputType: "text"
      },
      {
        id: "q3_1",
        label: "問3(1)（判断）",
        type: "judgment",
        text: "次の物質のうち、純物質であるものをすべて選べ。",
        inputType: "selection-multi",
        options: ["(ア) 塩酸", "(イ) 空気", "(ウ) 氷", "(エ) ドライアイス"]
      },
      {
        id: "q3_2",
        label: "問3(2)（知識）",
        type: "knowledge",
        text: "メンデレーエフは、当時知られていた元素を何の順に並べて周期表を作成したか。",
        inputType: "text"
      }
    ],
    answers: {
      q1_1: "(イ), (エ)",
      q1_2: "種類：共有結合の結晶\n理由：すべての原子が強い共有結合で網目状に繋がっているため。",
      q2: "(1) N\n(2) 遷移元素",
      q3_1: "(ウ), (エ)",
      q3_2: "原子量"
    },
    explanationPoints: [
      "問1(1)：$\\text{CO}_2$（直線形）と$\\text{CH}_4$（正四面体形）は対称構造のため結合の極性が打ち消し合う。$\\text{H}_2\\text{O}$（折れ線）と$\\text{NH}_3$（三角錐）は極性分子。",
      "問3(1)：「塩酸」は塩化水素の水溶液なので混合物。「氷」は水 $\\text{H}_2\\text{O}$ の固体、「ドライアイス」は $\\text{CO}_2$ の固体なので純物質。",
      "問3(2)：メンデレーエフは原子量順。現在の周期表（モーズリー）は原子番号順。"
    ],
    branches: [
      {
        id: "branch_1",
        title: "Branch_1: 分子の極性",
        label: "極性の打ち消しが判定できない",
        diagnosis: "結合に極性があれば分子も極性を持つと思い込んでいた、あるいは分子の立体構造が頭に浮かばなかった。",
        remediation: {
          type: "exercise",
          content: "分子の形が重要です。",
          points: [
            "折れ線形の構造を持つ水分子 $\\text{H}_2\\text{O}$ が、極性分子である理由を答えよ。",
            "答え：分子の構造が非対称であり、結合の極性が打ち消し合わないため。"
          ]
        }
      },
      {
        id: "branch_2",
        title: "Branch_2: 純物質と混合物",
        label: "混合物の定義の再確認",
        diagnosis: "「塩酸」や「空気」が純物質か混合物か迷った。",
        remediation: {
          type: "knowledge",
          content: "名前のイメージに騙されないように。",
          points: [
            "混合物の代表例：空気、海水、石油、塩酸（塩化水素＋水）、アンモニア水。",
            "「〜水」「〜溶液」とあれば100%混合物。",
            "化合物（純物質）は化学式1つで書ける（氷 $\\to \\text{H}_2\\text{O}$）。"
          ]
        }
      }
    ]
  }
];

// Default to first problem, but App will handle switching
export const CURRENT_PROBLEM = PROBLEMS[0];